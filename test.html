<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 2569 | ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏∏‡πà‡∏°</title>
<meta name="color-scheme" content="dark"/>

<style>
:root{
  --bg:#070707;
  --card:#141414;
  --line:rgba(255,255,255,.14);
  --txt:#fff;
  --muted:#cfcfcf;
  --accent:#ff2b2b;
  --accent2:#ffb703;
  --ok:#36d399;
  --bad:#ff5a5f;
  --gold:#ffd700;
}
*{box-sizing:border-box}
body{
  margin:0;padding:24px;
  font-family:system-ui,-apple-system,"Segoe UI",Tahoma,sans-serif;
  color:var(--txt);
  background:
    radial-gradient(600px 300px at 15% 0%, rgba(255,215,0,.22), transparent 60%),
    radial-gradient(800px 420px at 85% 5%, rgba(255,60,60,.22), transparent 60%),
    radial-gradient(1000px 520px at 50% -20%, rgba(255,255,255,.14), transparent 65%),
    var(--bg);
}
.card{
  max-width:560px;margin:0 auto;
  padding:18px;
  border-radius:24px;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid var(--line);
  box-shadow:
    0 0 0 1px rgba(255,215,0,.18),
    0 28px 90px rgba(0,0,0,.85);
  backdrop-filter: blur(6px);
}
.hero{
  width:100%;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  display:block;
}
h1{font-size:20px;margin:12px 0 6px}
p{margin:0 0 12px;color:var(--muted);line-height:1.6}
input{
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0f0f0f;
  color:#fff;
  font-size:16px;
}
.row{display:flex;gap:10px;margin-top:12px}
button{
  flex:1;
  padding:12px 14px;
  border-radius:14px;
  border:0;
  font-weight:900;
  color:#fff;
  cursor:pointer;
}
.btnAlt{background:#2a2a2a}
.btnMain{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  box-shadow:0 0 22px rgba(255,215,0,.55);
}
.btnMain:hover{
  transform:translateY(-1px) scale(1.01);
  box-shadow:0 0 36px rgba(255,215,0,.85);
}
#btnPoll{
  margin-top:10px;
  width:100%;
  border:1px solid rgba(255,215,0,.35);
  animation:nyPulse 2s infinite;
}
@keyframes nyPulse{
  0%{ box-shadow:0 0 0 rgba(255,215,0,.35); }
  50%{ box-shadow:0 0 30px rgba(255,215,0,.85); }
  100%{ box-shadow:0 0 0 rgba(255,215,0,.35); }
}
.msg{
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.35);
  white-space:pre-line;
  display:none;
}
.msg.ok{border-color:rgba(54,211,153,.45)}
.msg.bad{border-color:rgba(255,90,95,.55)}
.copyBox{
  display:none;
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  border:1px dashed rgba(255,255,255,.25);
  display:flex;
  gap:10px;
  align-items:center;
}
.copyCode{
  flex:1;
  font-weight:900;
  font-size:16px;
  letter-spacing:1px;
  user-select:all;
}
.copyBtn{
  padding:10px 14px;
  border-radius:12px;
  border:0;
  font-weight:900;
  color:#fff;
  background:linear-gradient(135deg,#22c55e,#16a34a);
}
.goLink{
  display:none;
  margin-top:12px;
  padding:14px;
  text-align:center;
  font-weight:900;
  border-radius:14px;
  color:#fff;
  background:linear-gradient(135deg,#ff2b2b,#b80000);
  text-decoration:none;
}
.hint{
  font-size:12px;
  color:#cfcfcf;
  margin-top:10px;
  line-height:1.6;
}
</style>
</head>

<body>

<div class="card">
  <img class="hero"
    src="https://img5.pic.in.th/file/secure-sv1/photo_--_--1c67466a2f55fbd2.jpg"
    alt="‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 2569">

  <h1>üéÅ ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 2569 ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏∏‡πà‡∏° üéÅ</h1>
  <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥)</p>

  <input id="phone" inputmode="numeric" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå">

  <div class="row">
    <button id="btnCheck" class="btnAlt">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</button>
    <button id="btnJoin" class="btnMain" disabled>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
  </div>

  <button id="btnPoll" class="btnAlt">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ / ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î</button>

  <div id="msg" class="msg"></div>

  <div id="copyWrap" class="copyBox">
    <div id="promoCode" class="copyCode">RRXXXXXX</div>
    <button id="btnCopy" class="copyBtn">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>
  </div>

  <a id="goRedeem"
     class="goLink"
     href="https://rumruay365.uk/events/free-credit"
     target="_blank">
     üëâ ‡πÑ‡∏õ‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ
  </a>

  <div class="hint">
    * ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏¢‡∏≠‡∏î‡∏ù‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏ö 365 ‡∏ö‡∏≤‡∏ó<br>
    * ‡∏ó‡∏≥‡∏¢‡∏≠‡∏î 10 ‡πÄ‡∏ó‡πà‡∏≤ ‡∏ñ‡∏≠‡∏ô‡πÑ‡∏î‡πâ 10 ‡πÄ‡∏ó‡πà‡∏≤<br>
    * üîí ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î: 1 ‡∏Ñ‡∏ô / 1 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå)
  </div>
</div>

<script>
/* ================= CONFIG ================= */
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyokjZuq_w45cvwNjSGcjlcH1xpMLi_0K7jG84a5sm7EuIKTDIBF9Uzw4_yisVP9KtTJA/exec";

/* ================= UTIL ================= */
const $ = id => document.getElementById(id);
function showMsg(t,type){
  const m=$("msg");
  m.style.display="block";
  m.className="msg "+(type||"");
  m.textContent=t;
}
function hideMsg(){ $("msg").style.display="none"; }
function normalizePhone(v){
  let p=String(v||"").replace(/\D/g,"");
  if(p.startsWith("66")) p="0"+p.slice(2);
  return /^0[689]\d{8}$/.test(p)?p:"";
}

/* ================= DEVICE FINGERPRINT ================= */
async function deviceInfo(){
  return {
    ua:navigator.userAgent,
    lang:navigator.language,
    tz:Intl.DateTimeFormat().resolvedOptions().timeZone,
    scr:`${screen.width}x${screen.height}@${devicePixelRatio}`,
    plat:navigator.platform,
    hc:navigator.hardwareConcurrency||0
  };
}

/* ================= JSONP ================= */
function jsonp(params){
  return new Promise((res,rej)=>{
    const cb="cb_"+Math.random().toString(36).slice(2);
    params.callback=cb;
    const s=document.createElement("script");
    s.src=SCRIPT_URL+"?"+new URLSearchParams(params);
    window[cb]=d=>{
      delete window[cb];
      s.remove();
      res(d);
    };
    s.onerror=()=>{ delete window[cb]; s.remove(); rej(); };
    document.body.appendChild(s);
  });
}

/* ================= EVENTS ================= */
$("btnCheck").onclick=async()=>{
  hideMsg();
  const phone=normalizePhone($("phone").value);
  if(!phone) return showMsg("‚ùå ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á","bad");
  showMsg("‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...");
  const d=await jsonp({action:"check",phone,...await deviceInfo()}).catch(()=>null);
  if(!d) return showMsg("‚ùå ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","bad");
  if(d.ok && !d.exists){
    showMsg("‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÑ‡∏î‡πâ","ok");
    $("btnJoin").disabled=false;
  }else{
    showMsg(d.msg||"‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç","bad");
  }
};

$("btnJoin").onclick=async()=>{
  hideMsg();
  const phone=normalizePhone($("phone").value);
  showMsg("‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô...");
  const d=await jsonp({action:"register",phone,...await deviceInfo()}).catch(()=>null);
  if(!d||!d.ok) return showMsg(d?.msg||"‚ùå ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","bad");
  showMsg("‚úÖ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥","ok");
};

$("btnPoll").onclick=async()=>{
  hideMsg();
  const phone=normalizePhone($("phone").value);
  showMsg("‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞...");
  const d=await jsonp({action:"poll",phone,...await deviceInfo()}).catch(()=>null);
  if(!d||!d.ok) return showMsg(d?.msg||"‚ùå ‡πÄ‡∏ä‡πá‡∏Ñ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à","bad");
  if(d.status==="APPROVED"){
    showMsg("üéâ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß","ok");
    $("promoCode").textContent=d.promo_code;
    $("copyWrap").style.display="flex";
    $("goRedeem").style.display="block";
  }else{
    showMsg(d.msg||"‚è≥ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥","");
  }
};

$("btnCopy").onclick=async()=>{
  await navigator.clipboard.writeText($("promoCode").textContent);
  showMsg("‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÅ‡∏•‡πâ‡∏ß","ok");
};
</script>

</body>
</html>
