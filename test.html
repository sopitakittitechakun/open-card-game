<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏à‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á</title>
<meta name="color-scheme" content="dark"/>
<style>
:root{
  --bg:#070707;
  --card:#0f0f0f;
  --line:rgba(255,255,255,.12);
  --txt:#fff;
  --muted:#cfcfcf;
  --red:#e11d48;
  --red2:#b91c1c;
  --ok:#22c55e;
}
*{box-sizing:border-box}
body{
  margin:0;padding:18px;
  font-family:system-ui,-apple-system,"Segoe UI",Tahoma,sans-serif;
  background:radial-gradient(900px 500px at 50% -10%, rgba(255,60,60,.2), transparent 60%), #050505;
  color:var(--txt);
}
.card{
  max-width:520px;
  margin:0 auto;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--line);
  border-radius:28px;
  padding:14px;
  box-shadow:0 20px 60px rgba(0,0,0,.7);
}
.banner img{
  width:100%;
  border-radius:20px;
  display:block;
}
.title{
  text-align:center;
  margin:14px 0 6px;
  font-size:18px;
  font-weight:900;
}
.subtitle{
  text-align:center;
  font-size:13px;
  color:var(--muted);
  margin-bottom:14px;
}
label{
  display:block;
  font-size:13px;
  color:var(--muted);
  margin:8px 0 6px;
}
input{
  width:100%;
  padding:13px 14px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0b0b0b;
  color:#fff;
  font-size:16px;
}
.btnRow{
  display:flex;
  gap:10px;
  margin-top:12px;
}
button{
  flex:1;
  padding:12px;
  border-radius:14px;
  border:0;
  font-size:16px;
  font-weight:900;
  cursor:pointer;
  color:#fff;
}
.btnCheck{background:#2a2a2a}
.btnJoin{
  background:linear-gradient(135deg,var(--red),var(--red2));
}
button:disabled{opacity:.5;cursor:not-allowed}

.msg{
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.35);
  font-size:14px;
  line-height:1.6;
  display:none;
}
.msg.ok{border-color:rgba(34,197,94,.5)}
.msg.err{border-color:rgba(239,68,68,.6)}

.promoBox{
  margin-top:12px;
  padding:14px;
  border-radius:16px;
  border:1px dashed rgba(255,255,255,.35);
  background:rgba(0,0,0,.35);
  text-align:center;
  display:none;
}
.promoCode{
  font-size:22px;
  font-weight:900;
  color:#7dd3fc;
  margin:6px 0 10px;
  letter-spacing:1px;
}
.copyBtn{
  background:linear-gradient(135deg,#22c55e,#16a34a);
  border-radius:14px;
  padding:10px;
  font-weight:900;
}
.copyMsg{
  font-size:13px;
  color:#a7f3d0;
  margin-top:6px;
  display:none;
}
.linkBox{
  margin-top:12px;
  padding:12px;
  border-radius:14px;
  border:1px dashed rgba(255,255,255,.25);
  text-align:center;
}
.linkBox a{
  color:#7dd3fc;
  font-weight:900;
  text-decoration:none;
}
</style>
</head>

<body>
<div class="card">

  <!-- üî• ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ï -->
  <div class="banner">
    <img src="https://img2.pic.in.th/photo_--_--0e7826f8427924c9.jpg" alt="‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏à‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á">
  </div>

  <div class="title">üéÅ ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏à‡∏Å‡∏Ñ‡∏π‡∏õ‡∏≠‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 38,888 ‡∏ö‡∏≤‡∏ó üéÅ</div>
  <div class="subtitle">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 1 ‡πÄ‡∏ö‡∏≠‡∏£‡πå ‡∏ï‡πà‡∏≠ 1 ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</div>

  <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£</label>
  <input id="phone" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 0612345678">

  <div class="btnRow">
    <button id="btnCheck" class="btnCheck">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</button>
    <button id="btnJoin" class="btnJoin" disabled>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
  </div>

  <div id="msg" class="msg"></div>

  <!-- üéÅ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î -->
  <div id="promoBox" class="promoBox">
    üéÅ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    <div id="promoCode" class="promoCode"></div>
    <button id="btnCopy" class="copyBtn">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î</button>
    <div id="copyMsg" class="copyMsg">‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</div>
  </div>

  <!-- üîó ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î -->
  <div class="linkBox">
    üëâ ‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà<br>
    <a href="https://rumruay365.uk/events/free-credit" target="_blank">
      https://rumruay365.uk/events/free-credit
    </a>
  </div>

</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwF6-h_Ip_gJHDbigip7x3oc8fDAHcwcn814k4ufXn4hlJ_lMDdhRsqYM7b40G6lWGLeg/exec";

const phone=document.getElementById("phone");
const btnCheck=document.getElementById("btnCheck");
const btnJoin=document.getElementById("btnJoin");
const msg=document.getElementById("msg");
const promoBox=document.getElementById("promoBox");
const promoCode=document.getElementById("promoCode");
const btnCopy=document.getElementById("btnCopy");
const copyMsg=document.getElementById("copyMsg");

let TOKEN="";

function show(t,ok=true){
  msg.style.display="block";
  msg.className="msg "+(ok?"ok":"err");
  msg.textContent=t;
}
function normalizePhone(v){
  let p=v.replace(/\D/g,"");
  if(p.startsWith("66")) p="0"+p.slice(2);
  return /^0[689]\d{8}$/.test(p)?p:"";
}
function jsonp(p){
  return new Promise(r=>{
    const cb="cb_"+Math.random().toString(36).slice(2);
    p.jsonp=1;p.callback=cb;
    const s=document.createElement("script");
    s.src=SCRIPT_URL+"?"+new URLSearchParams(p);
    window[cb]=d=>{delete window[cb];s.remove();r(d);}
    document.body.appendChild(s);
  });
}

btnCheck.onclick=async()=>{
  const p=normalizePhone(phone.value);
  if(!p) return show("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",false);
  btnJoin.disabled=true;
  promoBox.style.display="none";

  const d=await jsonp({action:"check",phone:p});
  if(!d.ok) return show(d.msg,false);

  TOKEN=d.token;
  show("‚úÖ ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡∏Å‡∏î‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î");
  btnJoin.disabled=false;
};

btnJoin.onclick=async()=>{
  const p=normalizePhone(phone.value);
  const d=await jsonp({action:"register",phone:p,token:TOKEN});
  if(!d.ok) return show(d.msg,false);

  promoCode.textContent=d.promo_code;
  promoBox.style.display="block";
  show("üéâ ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
};

btnCopy.onclick=()=>{
  navigator.clipboard.writeText(promoCode.textContent).then(()=>{
    copyMsg.style.display="block";
    setTimeout(()=>copyMsg.style.display="none",2000);
  });
};
</script>
</body>
</html>
