<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏•‡∏∏‡πâ‡∏ô‡πÇ‡∏ä‡∏Ñ | ‡∏£‡πà‡∏≥‡∏£‡∏ß‡∏¢365</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@700&display=swap" rel="stylesheet">
  <style>
    html, body { margin:0; padding:0; height:100%; font-family:'Sarabun',sans-serif; overflow-x:hidden; }
    body {
      background: linear-gradient(-45deg, #ffcc00, #ff9900, #ffd700, #fff4c2);
      background-size: 400% 400%; animation: gradientMove 15s ease infinite;
    }
    @keyframes gradientMove { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    #particles-js { position:fixed; width:100%; height:100%; z-index:0; }

    .promo-banner { text-align:center; margin:20px auto 10px; z-index:2; position:relative; }
    .promo-banner img { max-width:90%; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,0.4); }

    .container {
      position:relative; z-index:1; text-align:center; color:#fff8dc;
      background:rgba(0,0,0,0.4); padding:20px; border-radius:18px;
      box-shadow:0 0 15px rgba(255,215,0,0.5); max-width:500px; margin:0 auto 16px;
    }

    .logo { width:150px; margin-bottom:16px; filter:drop-shadow(2px 2px 4px #000); }
    h2 { font-size:26px; color:#ffd700; text-shadow:0 0 5px #fff, 0 0 12px #ff9900; }

    input, button {
      padding:12px; font-size:16px; border-radius:10px; margin-bottom:14px;
      width:90%; max-width:300px; box-shadow:0 2px 6px rgba(0,0,0,0.2);
    }
    input { border:2px solid #ffcc00; color:#5a2e00; font-weight:bold; text-align:center; }
    button { background:linear-gradient(to right,#ffd700,#ff9900); color:#3b1c00; font-weight:bold; border:none; cursor:pointer; }

    #cards { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin-top:20px; }

    .card { width:90px; height:130px; perspective:1000px; position:relative; }
    .inner-card { width:100%; height:100%; transition:transform 0.8s; transform-style:preserve-3d; position:relative; }
    .card.opened .inner-card { transform: rotateY(180deg); }

    .front, .back {
      position:absolute; width:100%; height:100%; border-radius:12px; backface-visibility:hidden;
      display:flex; align-items:center; justify-content:center; font-size:32px; font-weight:bold;
      border:3px solid gold; box-shadow:0 4px 10px rgba(0,0,0,0.3);
    }
    .front { background:#fff8dc; color:#b71c1c; }
    .back  { background:#ffd700; transform:rotateY(180deg); animation:glow 1s infinite alternate; position:relative; flex-direction:column; }
    .back img { width:60px; margin-top:10px; }
    .back span { font-size:42px; font-weight:bold; color:#b71c1c; animation:bounceGlow 1s infinite; text-shadow:2px 2px 4px #fff, 0 0 8px #ffd700; }

    @keyframes glow { from{box-shadow:0 0 10px #ffd700;} to{box-shadow:0 0 20px #fff200;} }
    @keyframes bounceGlow { 0%{transform:scale(1);} 50%{transform:scale(1.3);} 100%{transform:scale(1);} }

    /* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏à‡∏≠‡πÄ‡∏•‡∏Ç 10 */
    .card.jackpot .back {
      animation: glow 0.6s infinite alternate, jackpotPulse 1.2s ease-in-out infinite;
      border-color:#fff; box-shadow:0 0 20px 8px rgba(255,255,255,0.8), 0 0 40px 14px rgba(255,215,0,0.9);
    }
    @keyframes jackpotPulse { 0%{transform:rotateY(180deg) scale(1);} 50%{transform:rotateY(180deg) scale(1.08);} 100%{transform:rotateY(180deg) scale(1);} }
    .card.jackpot:before, .card.jackpot:after {
      content:""; position:absolute; inset:-10px; border-radius:14px; pointer-events:none;
      background: conic-gradient(from 0deg, rgba(255,255,255,0.0), rgba(255,215,0,0.6), rgba(255,255,255,0.0) 30%);
      animation: spinRays 1.5s linear infinite;
    }
    .card.jackpot:after { filter:blur(8px); opacity:0.7; }
    @keyframes spinRays { to { transform: rotate(360deg); } }

    .reward-text { margin-top:18px; font-size:18px; color:#fff8dc; text-shadow:0 0 4px #000, 0 0 10px #ffd700; animation:sparkle 1s infinite alternate; }
    @keyframes sparkle { 0%{text-shadow:0 0 5px #fff;} 100%{text-shadow:0 0 12px #ffd700;} }

    @media (max-width:600px){ .card{width:75px;height:110px;} .back img{width:48px;} .back span{font-size:34px;} }

    .block-overlay{
      position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95);
      color:#ffd700; font-size:22px; font-weight:bold; text-align:center; padding-top:30vh; z-index:999999; display:none;
    }

    /* ===== LeaderBoard Styles ===== */
    .winners{
      margin:16px auto 32px;
      max-width:500px;
      background:rgba(255, 215, 0, 0.08);
      border:1px solid rgba(255, 215, 0, 0.35);
      border-radius:14px;
      box-shadow:0 0 12px rgba(255,215,0,0.2) inset;
      overflow:hidden;
    }
    .winners-head{
      padding:10px 14px;
      background:linear-gradient(90deg, rgba(255,215,0,0.25), rgba(255,153,0,0.25));
      color:#ffd700;
      font-weight:bold;
      letter-spacing:0.3px;
      display:flex; align-items:center; gap:8px;
      border-bottom:1px solid rgba(255,215,0,0.3);
    }
    .winner-list{
      list-style:none; margin:0; padding:8px 12px; max-height:160px; overflow:hidden;
    }
    .winner-list li{
      display:flex; justify-content:space-between; align-items:center;
      color:#fff8dc; padding:8px 6px; border-bottom:1px dashed rgba(255,215,0,0.15);
      font-size:15px;
    }
    .winner-list li .badge{
      background:#22c55e; color:#0b2a0f; font-weight:bold; font-size:12px;
      padding:4px 8px; border-radius:999px; box-shadow:0 0 8px rgba(34,197,94,0.4);
    }
    .winner-list li .time{
      opacity:0.8; font-size:12px; margin-left:10px;
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>

  <div class="promo-banner">
    <img src="https://img2.pic.in.th/pic/photo_--_--deec69ba16a767e7.jpg" alt="‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ">
  </div>

  <div class="container">
    <img class="logo" src="https://img2.pic.in.th/pic/1735020594-1.png" alt="‡∏£‡πà‡∏≥‡∏£‡∏ß‡∏¢365">
    <h2>üÇ™ ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏•‡∏∏‡πâ‡∏ô‡πÇ‡∏ä‡∏Ñ | ‡∏£‡πà‡∏≥‡∏£‡∏ß‡∏¢365</h2>

    <input type="text" id="phone" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" maxlength="10"><br>
    <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>

    <div id="captureZone">
      <div id="cards"></div>
      <div id="rewardDisplay"></div>
    </div>

    <button id="captureBtn" style="display:none;">üì∏ ‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠</button>
  </div>

  <!-- LeaderBoard / ‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î -->
  <div id="winnersBox" class="winners">
    <div class="winners-head">üéâ ‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>
    <ul id="winnerList" class="winner-list"></ul>
  </div>

  <div id="devBlocker" class="block-overlay">
    üö´ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Developer Tools<br>
    ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ï‡πà‡∏≠<br><br>
    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•...
  </div>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <audio id="flipSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_72b2a6d7f8.mp3" preload="auto"></audio>
  <audio id="jackpotSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b9b19751f3.mp3" preload="auto"></audio>

  <!-- ‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbybf8xUEJYD6TigG3QriRdEbKmZF3K3PQs7OvEAHV6Eg8dw4mdGD186N_OWToeS12ry/exec';
    let hasFlipped = false;

    /* ===== LeaderBoard Config ===== */
    const WINNER_FETCH_URL = scriptURL + '?mode=winners'; // ‡πÉ‡∏´‡πâ Apps Script ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ
    const WINNER_CACHE_KEY = 'rr365_winners_cache';
    const WINNER_LIMIT = 10;           // ‡πÇ‡∏ä‡∏ß‡πå‡∏Å‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    const WINNER_REFRESH_MS = 30000;   // ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏ó‡∏∏‡∏Å 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

    document.getElementById('startBtn').addEventListener('click', startGame);

    function startGame() {
      const phone = document.getElementById("phone").value.trim();
      if (!/^0[0-9]{9}$/.test(phone)) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
      }

      const formData = new FormData();
      formData.append("phone", phone);

      fetch(scriptURL, { method: 'POST', body: formData })
        .then(res => res.json())
        .then(data => {
          if (data.alreadyPlayed) {
            alert("‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ");
            return;
          }
          showCards(phone);
        })
        .catch(() => showCards(phone)); // ‡∏Å‡∏±‡∏ô‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏•‡πà‡∏° ‡πÉ‡∏´‡πâ‡∏¢‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ
    }

    function showCards(phone) {
      hasFlipped = false;
      document.getElementById("cards").innerHTML = "";
      document.getElementById("rewardDisplay").innerHTML = "";
      document.getElementById("captureBtn").style.display = "none";

      // ‚úÖ ‡πÑ‡∏û‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 6 ‡πÉ‡∏ö ‡∏°‡∏µ‡πÄ‡∏•‡∏Ç 10 ‡πÉ‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏ç‡πà
      const numbers = shuffleArray([10, 1, 2, 3, 4, 5]);

      numbers.forEach(num => {
        const wrapper = document.createElement("div");
        wrapper.className = "card";

        const inner = document.createElement("div");
        inner.className = "inner-card";

        const front = document.createElement("div");
        front.className = "front";
        front.textContent = "?";

        const back = document.createElement("div");
        back.className = "back";

        const img = document.createElement("img");
        img.src = `https://raw.githubusercontent.com/sopitakittitechakun/open-card-rewards/main/${num}.png`;
        img.onerror = () => { img.style.display = 'none'; };

        const label = document.createElement("span");
        label.textContent = num;

        back.appendChild(label);
        back.appendChild(img);
        inner.appendChild(front);
        inner.appendChild(back);
        wrapper.appendChild(inner);

        wrapper.onclick = () => flipCard(wrapper, num, phone);
        document.getElementById("cards").appendChild(wrapper);
      });
    }

    function celebrateConfetti() {
      const duration = 2000;
      const animationEnd = Date.now() + duration;
      const defaults = { startVelocity: 35, spread: 360, ticks: 60, zIndex: 9999 };
      const interval = setInterval(() => {
        const timeLeft = animationEnd - Date.now();
        if (timeLeft <= 0) return clearInterval(interval);
        confetti(Object.assign({}, defaults, {
          particleCount: 80 * (timeLeft / duration),
          origin: { x: Math.random(), y: Math.random() - 0.2 }
        }));
      }, 200);
    }

    function flipCard(card, number, phone) {
      if (hasFlipped) return;
      document.getElementById('flipSound').play();
      card.classList.add("opened");
      hasFlipped = true;

      let message = "";
      if (number === 10) {
        // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏à‡πá‡∏Å‡∏û‡∏≠‡∏ï
        card.classList.add("jackpot");
        document.getElementById('jackpotSound').play();
        celebrateConfetti();
        message = `üéâ ‡πÄ‡∏ö‡∏≠‡∏£‡πå ${phone} ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏Ç <b>${number}</b><br>‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏û‡∏µ‡πà‡∏ô‡∏∞‡∏Ñ‡∏∞ üéâ<br>üì∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏à‡πâ‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏Å‡∏±‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞`;

        // === ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï LeaderBoard ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ù‡∏±‡πà‡∏á client ===
        pushWinnerImmediate({phone, reward: 10, ts: Date.now()});

      } else {
        message = `üò¢ ‡πÄ‡∏ö‡∏≠‡∏£‡πå ${phone} ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏Ç <b>${number}</b><br>‡∏Ç‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞‡∏Ñ‡∏∞`;
      }

      document.getElementById("rewardDisplay").innerHTML =
        `<div class='reward-text'>${message}</div>`;
      document.getElementById("captureBtn").style.display = "inline-block";

      const formData = new FormData();
      formData.append("phone", phone);
      formData.append("reward", number);
      fetch(scriptURL, { method: 'POST', body: formData }).catch(()=>{});
    }

    document.getElementById("captureBtn").addEventListener("click", () => {
      html2canvas(document.getElementById("captureZone")).then(canvas => {
        const link = document.createElement("a");
        link.download = "‡∏ú‡∏•‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏£‡πà‡∏≥‡∏£‡∏ß‡∏¢365.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    });

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // ===== LeaderBoard Utils =====
    function maskPhone(p){
      if(!/^0\d{9}$/.test(p)) return p;
      return `${p.slice(0,2)}x-xxx-${p.slice(6,8)}xx`;
    }
    function timeAgo(ts){
      try{
        const t = typeof ts === 'number' ? ts : Date.parse(ts);
        const diff = Math.max(0, Date.now()-t)/1000;
        if(diff < 60) return `${Math.floor(diff)} ‡∏ß‡∏¥`;
        if(diff < 3600) return `${Math.floor(diff/60)} ‡∏ô‡∏≤‡∏ó‡∏µ`;
        if(diff < 86400) return `${Math.floor(diff/3600)} ‡∏ä‡∏°.`;
        return `${Math.floor(diff/86400)} ‡∏ß‡∏±‡∏ô`;
      }catch{ return ''; }
    }
    function renderWinners(list){
      const ul = document.getElementById('winnerList');
      if(!ul) return;
      ul.innerHTML = '';
      list.slice(0, WINNER_LIMIT).forEach(w=>{
        const li = document.createElement('li');
        const left = document.createElement('div');
        left.textContent = `${maskPhone(w.phone)} ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏Ç ${w.reward}`;
        const right = document.createElement('div');
        const badge = document.createElement('span');
        badge.className = 'badge';
        badge.textContent = w.reward === 10 ? 'JACKPOT' : '‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ';
        const tm = document.createElement('span');
        tm.className = 'time';
        tm.textContent = `‚Ä¢ ${timeAgo(w.ts || Date.now())} ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`;
        right.appendChild(badge);
        right.appendChild(tm);
        li.appendChild(left);
        li.appendChild(right);
        ul.appendChild(li);
      });
    }
    function saveWinnerCache(list){
      try{ localStorage.setItem(WINNER_CACHE_KEY, JSON.stringify({ts:Date.now(), list})); }catch{}
    }
    function loadWinnerCache(){
      try{
        const raw = localStorage.getItem(WINNER_CACHE_KEY);
        if(!raw) return null;
        const obj = JSON.parse(raw);
        return obj.list || null;
      }catch{ return null; }
    }
    async function fetchWinners(){
      try{
        const res = await fetch(WINNER_FETCH_URL, {cache:'no-store'});
        const data = await res.json();
        // ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: [{phone:"0812345678", reward:10, ts:"2025-08-19T10:10:00Z"}, ...]
        if(Array.isArray(data) && data.length){
          data.sort((a,b)=> new Date(b.ts||0) - new Date(a.ts||0));
          saveWinnerCache(data);
          return data;
        }
        return [];
      }catch(e){
        const cached = loadWinnerCache();
        if(cached) return cached;
        // fallback ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
        return [
          {phone:'0891234567', reward:10, ts: Date.now()-1000*60*5},
          {phone:'0812347890', reward:10, ts: Date.now()-1000*60*22},
        ];
      }
    }
    async function loadWinners(){
      const winners = await fetchWinners();
      renderWinners(winners);
      startWinnersTicker();
    }
    let tickerTimer = null;
    function startWinnersTicker(){
      if(tickerTimer) clearInterval(tickerTimer);
      tickerTimer = setInterval(()=>{
        const ul = document.getElementById('winnerList');
        if(!ul || ul.children.length < 2) return;
        const first = ul.children[0];
        ul.appendChild(first.cloneNode(true));
        ul.removeChild(first);
      }, 3500);
    }
    function pushWinnerImmediate(entry){
      const cached = loadWinnerCache() || [];
      const newList = [entry, ...cached].slice(0, 50);
      saveWinnerCache(newList);
      renderWinners(newList);
    }

    // ‡πÇ‡∏´‡∏•‡∏î LeaderBoard ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ + ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö
    document.addEventListener('DOMContentLoaded', ()=>{
      loadWinners();
      setInterval(loadWinners, WINNER_REFRESH_MS);
    });

    // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å/DevTools
    document.addEventListener("contextmenu", e => e.preventDefault());
    document.addEventListener("keydown", function (e) {
      if (
        e.key === "F12" ||
        (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) ||
        (e.ctrlKey && (e.key === "U" || e.key === "S"))
      ) {
        e.preventDefault();
        alert("üö´ ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ");
        return false;
      }
    });

    let devtoolsOpen = false;
    const element = new Image();
    Object.defineProperty(element, "id", {
      get: function () {
        devtoolsOpen = true;
        throw new Error("DevTools Detected");
      }
    });
    setInterval(function () {
      devtoolsOpen = false;
      console.log(element);
      if (devtoolsOpen) {
        const blocker = document.getElementById("devBlocker");
        if (blocker) blocker.style.display = "block";
        setTimeout(() => {
          window.location.href = "https://lin.ee/quaXmJk";
        }, 3000);
      }
    }, 1000);

    particlesJS("particles-js", {
      particles: {
        number: { value: 60 }, size: { value: 4 }, color: { value: "#ffd700" }, opacity: { value: 0.6 },
        move: { speed: 1.5 }, line_linked: { enable: false }
      },
      interactivity: { events: { onhover: { enable: false } } }
    });
  </script>
</body>
</html>
