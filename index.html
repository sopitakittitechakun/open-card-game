<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç 2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á</title>

<style>
:root{
  --bg:#0e0505;
  --card:#1a0b0b;
  --card2:#140909;
  --text:#fff1f1;
  --muted:#f1b7b7;
  --red:#e10600;
  --red2:#ff3b3b;
  --gold:#ffb020;
  --ok:#2ee59d;
  --shadow:0 18px 60px rgba(0,0,0,.45);
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Arial,"Noto Sans Thai",sans-serif;
  background:
    radial-gradient(900px 500px at 20% 10%, rgba(225,6,0,.25), transparent 55%),
    radial-gradient(900px 500px at 90% 30%, rgba(255,59,59,.22), transparent 55%),
    linear-gradient(180deg, #090303, var(--bg));
  color:var(--text);
}
.wrap{max-width:1100px;margin:auto;padding:20px 16px 80px}

/* Header */
.header{
  display:flex;justify-content:space-between;align-items:center;gap:12px;
  padding:16px;background:linear-gradient(135deg,var(--red),var(--red2));
  border-radius:20px;box-shadow:var(--shadow)
}
.brand{display:flex;gap:12px;align-items:center}
.logo{
  width:60px;height:60px;border-radius:16px;background:#fff;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 0 0 3px rgba(255,59,59,.35),0 12px 28px rgba(0,0,0,.35);
  overflow:hidden
}
.logo img{width:85%;height:85%;object-fit:contain}
.header h1{margin:0;font-size:18px}
.header p{margin:4px 0 0;font-size:12px;opacity:.9}
.headerRight{display:flex;gap:10px;flex-wrap:wrap}
.topPill{
  padding:8px 12px;border-radius:999px;font-size:12px;
  background:rgba(255,255,255,.18);border:1px solid rgba(255,255,255,.25)
}

/* Layout */
.grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px;margin-top:16px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

/* Card */
.card{
  background:linear-gradient(180deg,var(--card),var(--card2));
  border:1px solid rgba(255,59,59,.35);
  border-radius:var(--radius);box-shadow:var(--shadow)
}
.cardHead{padding:14px;border-bottom:1px solid rgba(255,59,59,.35)}
.cardHead h2{margin:0;font-size:16px}
.cardSub{margin-top:6px;font-size:12px;color:var(--muted)}
.cardBody{padding:14px}

/* Pills */
.pills{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:12px}
.pill{
  padding:8px 12px;border-radius:999px;font-size:12px;
  background:rgba(255,59,59,.18);border:1px solid rgba(255,59,59,.35)
}

/* Rules */
.rules{list-style:none;padding:0;margin:0;display:grid;gap:10px}
.rules li{
  padding:12px;border-radius:14px;border:1px solid rgba(255,59,59,.25);
  background:rgba(0,0,0,.15);font-size:12px;color:var(--muted)
}

/* Form */
label{font-size:12px;color:var(--muted)}
.input{
  width:100%;padding:12px;margin-top:6px;border-radius:14px;
  border:1px solid rgba(255,59,59,.35);background:#120606;color:var(--text)
}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:520px){.row{grid-template-columns:1fr}}

/* Buttons */
.btnRow{display:flex;gap:10px;margin-top:14px}
.btn{
  flex:1;padding:12px;border-radius:14px;
  border:1px solid rgba(255,59,59,.35);background:#140909;
  color:var(--text);font-weight:800;cursor:pointer
}
.btn.primary{background:linear-gradient(135deg,var(--red),var(--red2));border:none;color:#120303}

/* Preview */
.preview{
  margin-top:14px;padding:14px;border-radius:16px;
  border:1px dashed rgba(255,59,59,.35);text-align:center
}
.numberBox{
  width:72px;height:72px;margin:10px auto;border-radius:18px;
  background:linear-gradient(135deg,var(--red2),var(--gold));
  color:#120303;font-size:26px;font-weight:1000;
  display:grid;place-items:center;letter-spacing:2px
}

/* Alert */
.alert{margin-top:10px;padding:10px 12px;border-radius:14px;font-size:13px;display:none}
.alert.error{background:rgba(255,59,59,.18);border:1px solid rgba(255,59,59,.35)}
.alert.ok{background:rgba(46,229,157,.18);border:1px solid rgba(46,229,157,.35)}
</style>
</head>

<body>
<div class="wrap">
  <div class="header">
    <div class="brand">
      <div class="logo">
        <img src="https://i.ibb.co/Yw7rGtj/1735020594.png" alt="logo">
      </div>
      <div>
        <h1>‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç 2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á</h1>
        <p>‡∏£‡πà‡∏ß‡∏°‡∏™‡∏ô‡∏∏‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡πÜ | ‡πÄ‡∏•‡∏Ç 00‚Äì99</p>
      </div>
    </div>
    <div class="headerRight">
      <div class="topPill">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö</div>
      <div class="topPill">1 ‡∏Ñ‡∏ô / 1 ‡πÄ‡∏•‡∏Ç</div>
      <div class="topPill">2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á</div>
    </div>
  </div>

  <div class="grid">
    <section class="card">
      <div class="cardHead">
        <h2>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h2>
        <div class="cardSub">‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢</div>
      </div>
      <div class="cardBody">
        <div class="pills">
          <div class="pill">‡πÄ‡∏•‡∏Ç 00‚Äì99</div>
          <div class="pill">‡∏™‡πà‡∏á‡πÑ‡∏î‡πâ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
          <div class="pill">‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏•‡∏´‡∏•‡∏±‡∏á‡∏´‡∏ß‡∏¢‡∏≠‡∏≠‡∏Å</div>
        </div>
        <ul class="rules">
          <li><b>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</b> ‡∏Å‡∏£‡∏≠‡∏Å‡∏¢‡∏π‡∏™ ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç 2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</li>
          <li><b>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:</b> 1 ‡∏¢‡∏π‡∏™ ‡∏ï‡πà‡∏≠ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</li>
          <li><b>‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô:</b> ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</li>
        </ul>
      </div>
    </section>

    <aside class="card">
      <div class="cardHead">
        <h2>‡∏£‡πà‡∏ß‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç</h2>
        <div class="cardSub">‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á</div>
      </div>
      <div class="cardBody">
        <div class="row">
          <div>
            <label>‡∏¢‡∏π‡∏™</label>
            <input id="name" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á">
          </div>
          <div>
            <label>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ó‡∏≤‡∏¢ (00‚Äì99)</label>
            <input id="num" class="input" maxlength="2" inputmode="numeric" placeholder="‡πÄ‡∏ä‡πà‡∏ô 07">
          </div>
        </div>

        <div class="btnRow">
          <button class="btn" id="clearBtn" type="button">‡∏•‡πâ‡∏≤‡∏á</button>
          <button class="btn primary" id="sendBtn" type="button">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≤‡∏¢</button>
        </div>

        <div id="alert" class="alert"></div>

        <div class="preview">
          <div>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
          <div id="previewNum" class="numberBox">--</div>
        </div>
      </div>
    </aside>
  </div>
</div>

<script>
/* üîó Web App URL ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î */
const SHEET_WEBAPP_URL =
"https://script.google.com/macros/s/AKfycbypMAEbYDFDtXmjttO4Bwj_tAU-bNwsOJYCtbyI7FIobU0bR4F41mPrqymWD2P5zzvk/exec";

const nameEl=document.getElementById("name");
const numEl=document.getElementById("num");
const alertEl=document.getElementById("alert");
const previewNum=document.getElementById("previewNum");
const clearBtn=document.getElementById("clearBtn");
const sendBtn=document.getElementById("sendBtn");

function showMsg(type,text){
  alertEl.style.display="block";
  alertEl.className="alert "+type;
  alertEl.textContent=text;
}
function thaiTimeString(d){
  return new Intl.DateTimeFormat("th-TH",{timeZone:"Asia/Bangkok",
    year:"numeric",month:"2-digit",day:"2-digit",
    hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(d);
}

numEl.addEventListener("input",()=>{
  numEl.value=numEl.value.replace(/\D/g,'').slice(0,2);
  previewNum.textContent=numEl.value.length===2?numEl.value:"--";
});
clearBtn.addEventListener("click",()=>{
  nameEl.value="";numEl.value="";previewNum.textContent="--";alertEl.style.display="none";
});
sendBtn.addEventListener("click",submitGuess);

async function submitGuess(){
  const user=nameEl.value.trim();
  const number=numEl.value.trim();
  if(!user){showMsg("error","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏¢‡∏π‡∏™");return}
  if(!/^\d{2}$/.test(number)){showMsg("error","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç 2 ‡∏´‡∏•‡∏±‡∏Å (00‚Äì99)");return}

  sendBtn.disabled=true;sendBtn.textContent="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á...";
  const now=new Date();
  const payload={user,number,time:thaiTimeString(now),ts:now.getTime()};

  try{
    const res=await fetch(SHEET_WEBAPP_URL,{
      method:"POST",headers:{"Content-Type":"application/json"},
      body:JSON.stringify(payload)
    });
    const text=await res.text();
    if(res.ok){
      showMsg("ok",`‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ ‡∏¢‡∏π‡∏™: ${user} | ‡πÄ‡∏•‡∏Ç: ${number}`);
    }else{
      showMsg("error","‡∏™‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
    }
  }catch(e){
    showMsg("error","‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ä‡∏µ‡∏ó‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Deploy ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô (Anyone)");
  }finally{
    sendBtn.disabled=false;sendBtn.textContent="‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ó‡∏≤‡∏¢";
  }
}
</script>
</body>
</html>
